<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Forgot Password</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Reset Your Password</ion-card-title>
      <ion-card-subtitle>Enter your email to receive reset instructions</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <form (ngSubmit)="sendResetEmail()" #resetForm="ngForm">
        <ion-item>
          <ion-label position="floating">Email</ion-label>
          <ion-input type="email" [(ngModel)]="email" name="email" required email pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"></ion-input>
        </ion-item>
        <div class="ion-margin-top">
          <ion-button expand="block" color="primary" type="submit" [disabled]="!resetForm.valid || isLoading">
            <ion-spinner name="circles" *ngIf="isLoading"></ion-spinner>
            <span *ngIf="!isLoading">Send Reset Link</span>
          </ion-button>
        </div>
      </form>
      <div class="ion-text-center ion-margin-top">
        <ion-button fill="clear" size="small" routerLink="/auth">Back to Login</ion-button>
      </div>
    </ion-card-content>
  </ion-card>
  <ion-text *ngIf="message" color="success">
    <p class="ion-padding-top ion-text-center">{{ message }}</p>
  </ion-text>
  <ion-text *ngIf="error" color="danger">
    <p class="ion-padding-top ion-text-center">{{ error }}</p>
  </ion-text>
</ion-content>